<footer class="bg-light py-3 mt-5">
    <div class="container text-center">
        <div class="logo-container mb-2">
            <i class="fas fa-university" style="color: #0d6efd;"></i>
            <i class="fas fa-exchange-alt" style="color: #6c757d;"></i>
            <i class="fas fa-code" style="color: #198754;"></i>
        </div>
        <p>BacenTools &copy; <script>document.write(new Date().getFullYear());</script> - Ferramentas para PO</p>
    </div>
</footer>

<!-- Importante: Script do Bootstrap -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>

<!-- Script para reinicializar componentes Bootstrap após carregamento dos templates -->
<script>
    document.addEventListener('all-templates-loaded', function() {
        console.log('Reinicializando componentes do Bootstrap após carregamento completo');
        
        // Verificar se o Bootstrap está disponível
        if (typeof bootstrap === 'undefined') {
            console.warn('Bootstrap JS não foi carregado corretamente');
            return;
        }
        
        try {
            // Reinicializar dropdowns do Bootstrap
            document.querySelectorAll('.dropdown-toggle').forEach(function(dropdownToggleEl) {
                new bootstrap.Dropdown(dropdownToggleEl);
            });
            
            // Reinicializar tooltips (se houver)
            document.querySelectorAll('[data-bs-toggle="tooltip"]').forEach(function(tooltipTriggerEl) {
                new bootstrap.Tooltip(tooltipTriggerEl);
            });
            
            // Reinicializar popovers (se houver)
            document.querySelectorAll('[data-bs-toggle="popover"]').forEach(function(popoverTriggerEl) {
                new bootstrap.Popover(popoverTriggerEl);
            });
            
            // Garantir que os elementos de collapse funcionem corretamente
            document.querySelectorAll('[data-bs-toggle="collapse"]').forEach(function(collapseEl) {
                new bootstrap.Collapse(collapseEl, {
                    toggle: false
                });
            });
            
            // Tratamento especial para o botão navbar-toggler
            document.querySelectorAll('.navbar-toggler').forEach(toggler => {
                toggler.addEventListener('click', function() {
                    const targetId = this.getAttribute('data-bs-target');
                    if (targetId) {
                        const targetElement = document.querySelector(targetId);
                        if (targetElement) {
                            const bsCollapse = bootstrap.Collapse.getInstance(targetElement) || 
                                               new bootstrap.Collapse(targetElement, {toggle: false});
                            bsCollapse.toggle();
                        }
                    }
                });
            });
            
            console.log('Componentes Bootstrap reinicializados com sucesso');
        } catch (error) {
            console.error('Erro ao reinicializar componentes Bootstrap:', error);
        }
    });
    
    // Certificar-se de que o script do Bootstrap foi carregado
    document.addEventListener('DOMContentLoaded', function() {
        if (typeof bootstrap === 'undefined') {
            console.warn('Bootstrap não foi detectado no carregamento inicial da página. Verificando novamente após um tempo...');
            setTimeout(function() {
                if (typeof bootstrap !== 'undefined') {
                    console.log('Bootstrap carregado com atraso, reinicializando componentes...');
                    document.dispatchEvent(new CustomEvent('all-templates-loaded'));
                }
            }, 1000);
        }
    });
</script>